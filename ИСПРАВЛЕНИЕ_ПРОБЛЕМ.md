# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∏ —Ä–∞—Å—Å—ã–ª–∫–æ–π

## üö® –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç –≤ send/route.ts
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `@react-email/render` –≤–º–µ—Å—Ç–æ `@react-email/components`
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

```typescript
// –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
import { render } from '@react-email/render';

// –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
import { render } from '@react-email/components';
```

### 2. –ü—Ä–æ–±–ª–µ–º—ã —Å @react-pdf/renderer
**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–∞–∫–µ—Ç–∞ –≤ package.json
- –ü—Ä–æ–±–ª–µ–º—ã —Å —à—Ä–∏—Ñ—Ç–∞–º–∏ –¥–ª—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã
- –û—à–∏–±–∫–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç render
–§–∞–π–ª: `src/app/api/certificates/send/route.ts`
- –ò–∑–º–µ–Ω–µ–Ω –∏–º–ø–æ—Ä—Ç —Å `@react-email/render` –Ω–∞ `@react-email/components`

### 2. –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π endpoint
–§–∞–π–ª: `src/app/api/certificates/test/route.ts`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–æ–º–∞–Ω–¥

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑–æ–≤–æ–π —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev-—Å–µ—Ä–≤–µ—Ä
cd medical-competition
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://localhost:3000/api/certificates/test
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```json
{
  "success": true,
  "message": "API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ",
  "data": {
    "teamsCount": 3,
    "scoresCount": 0,
    "environmentVariables": {
      "redis": true,
      "resend": true/false,
      "emailFrom": true/false
    }
  }
}
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF
1. –û—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:3000/admin/certificates`
2. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É
3. –ù–∞–∂–º–∏—Ç–µ "–°–∫–∞—á–∞—Ç—å PDF"

**–ï—Å–ª–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª —Å `npm run dev`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é @react-pdf/renderer

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ email
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env.local` —É–∫–∞–∑–∞–Ω—ã:
   ```
   RESEND_API_KEY=re_xxxxx
   EMAIL_FROM=noreply@yourdomain.com
   ```
2. –í –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π email
3. –ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ Email"

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Cannot find module @react-email/render"
**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: "Failed to generate PDF"
**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –ü—Ä–æ–±–ª–µ–º–∞ —Å —à—Ä–∏—Ñ—Ç–∞–º–∏ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å CDN
2. –û—à–∏–±–∫–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö TeamCertificate/IndividualCertificate
3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install --force @react-pdf/renderer
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Resend API key not configured"
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ–ª—É—á–∏—Ç–µ API key –Ω–∞ https://resend.com
2. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env.local`:
   ```
   RESEND_API_KEY=re_xxxxxxxxxxxxx
   EMAIL_FROM=noreply@yourdomain.com
   ```
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `npm run dev`

### –ü—Ä–æ–±–ª–µ–º–∞: Email –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API key –≤ Resend Dashboard
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã (3000/–º–µ—Å—è—Ü –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –ø–ª–∞–Ω–µ)
3. –î–ª—è production –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –¥–æ–º–µ–Ω –≤ Resend

## üìã –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –≤ send/route.ts
- [x] –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π endpoint
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ email –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –Ω–∞ production (Vercel)

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
cd medical-competition
npm run dev
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- http://localhost:3000/api/certificates/test
- http://localhost:3000/admin/certificates

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ `.env.local` (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç):
```bash
cp .env.local.example .env.local
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
```env
REDIS_URL=redis://default:password@host:6379
RESEND_API_KEY=re_xxxxx  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è email
EMAIL_FROM=noreply@yourdomain.com  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ Vercel (–µ—Å–ª–∏ —É–∂–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–æ)
1. –û—Ç–∫—Ä–æ–π—Ç–µ Vercel Dashboard
2. Project Settings ‚Üí Environment Variables
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —á—Ç–æ –∏ –≤ `.env.local`
4. Redeploy –ø—Ä–æ–µ–∫—Ç

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
   - –¢–µ—Ä–º–∏–Ω–∞–ª —Å `npm run dev`
   - Vercel Functions Logs (–¥–ª—è production)

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤:**
   ```bash
   npm list @react-pdf/renderer
   npm list @react-email/components
   npm list resend
   ```

3. **–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   rm -rf node_modules package-lock.json
   npm install
   ```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ email —Ä–∞–±–æ—Ç–∞–µ—Ç (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Resend)
‚úÖ –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –≤ PDF

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-14
**–°—Ç–∞—Ç—É—Å:** –û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ